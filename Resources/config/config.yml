services:
    liip_monitor.check.runner:
        class: ZendDiagnostics\Runner\Runner
        calls:
            - ['addReporter', [ @liip_monitor.check.reporter ]]

    liip_monitor.check.reporter:
        class: Liip\MonitorBundle\Helper\Reporter

    liip_monitor.health.controller:
        class: Liip\MonitorBundle\Controller\HealthCheckController
        arguments:
            - @liip_monitor.check.runner
            - @liip_monitor.helper.path

    liip_monitor.helper.path:
        class: Liip\MonitorBundle\Helper\PathHelper
        public: false
        arguments:
            - @service_container

    liip_monitor.check.custom_error_pages:
        class: Liip\MonitorBundle\Check\CustomErrorPages
        public: false

    liip_monitor.check.symfony_version_check:
        class: Liip\MonitorBundle\Check\SymfonyVersion
        public: false

    liip_monitor.check.deps_entries:
        class: Liip\MonitorBundle\Check\DepsEntries
        public: false

    liip_monitor.check.memcache:
        class: ZendDiagnostics\Check\Memcache
        public: false
        arguments:
            - localhost
            - 11211

    liip_monitor.check.doctrine_dbal:
        class: Liip\MonitorBundle\Check\DoctrineDbal
        public: false

    liip_monitor.check.http_service:
        class: ZendDiagnostics\Check\HttpService
        public: false
        arguments:
            - localhost
            - 80
            - /
            - 200
            - ~

    liip_monitor.check.extension_loaded:
        class: ZendDiagnostics\Check\ExtensionLoaded
        public: false

    liip_monitor.check.process_running:
        class: ZendDiagnostics\Check\ProcessRunning
        public: false

    liip_monitor.check.writable_directory:
        class: ZendDiagnostics\Check\WritableDirectory
        public: false

    liip_monitor.check.disc_usage:
        class: ZendDiagnostics\Check\DiscUsage
        public: false

    liip_monitor.check.security_advisory:
        class: ZendDiagnostics\Check\SecurityAdvisory
        public: false
        arguments:
            - @liip_monitor.security_checker

    liip_monitor.security_checker:
        class: SensioLabs\Security\SecurityChecker
        public: false
